I"†x<ul id="markdown-toc">
  <li><a href="#ç»§æ‰¿è‡ªappcompactactivity" id="markdown-toc-ç»§æ‰¿è‡ªappcompactactivity">ç»§æ‰¿è‡ªAppCompactActivity</a></li>
  <li><a href="#ç»§æ‰¿è‡ªlistactivity" id="markdown-toc-ç»§æ‰¿è‡ªlistactivity">ç»§æ‰¿è‡ªListActivity</a></li>
</ul>

<p>â€ƒâ€ƒListViewå¯ä»¥è¯´æ˜¯æˆ‘ä»¬åœ¨è¿›è¡ŒAndroidå¼€å‘æ—¶å€™æœ€å¸¸è§çš„æ§ä»¶ä¹‹ä¸€äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ç§æ–¹æ³•ã€‚</p>

<ol>
  <li>ä½¿ç”¨Activityï¼ˆç»§æ‰¿è‡ªAppCompactActivityï¼‰+ListViewæ§ä»¶</li>
  <li>ä½¿ç”¨Activityï¼ˆç»§æ‰¿è‡ªListActivityï¼‰</li>
</ol>

<h2 id="ç»§æ‰¿è‡ªappcompactactivity">ç»§æ‰¿è‡ªAppCompactActivity</h2>

<hr />

<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ç¬¬ä¸€ç§æ–¹æ³•ã€‚ç”¨ä¸€ä¸ªå°ä¾‹å­æ¥ä»‹ç»ä¸€ä¸‹ã€‚</p>

<p>Step1ï¼šæ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œä¿®æ”¹activity_main.xmlçš„ä»£ç å¦‚ä¸‹</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">tools:context=</span><span class="s">"com.example.xkw.listviewtest.MainActivity"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;ListView</span>
        <span class="na">android:id=</span><span class="s">"@+id/listview_fruit"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p>åœ¨è¿™é‡Œæˆ‘ä»¬åªæ·»åŠ äº†ä¸€ä¸ªListViewçš„æ§ä»¶ï¼Œå¹¶æ²¡æœ‰æ·»åŠ å…¶å®ƒçš„ä¸œè¥¿ã€‚</p>

<p>Step2:å¦‚å›¾ï¼Œlayoutå³é”®-&gt;new-&gt;Layout Source Fileï¼Œæ–°å»ºä¸€ä¸ªlistitem.xmlæ–‡ä»¶ã€‚è¿™ä¸ªlistitemå°±æ˜¯listviewé‡Œé¢çš„æ¯ä¸€ä¸ªå°å•å…ƒè¦æ˜¾ç¤ºçš„ä¸œè¥¿ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²å°±åªæ·»åŠ ä¸€ä¸ªTextViewæ§ä»¶å°±è¡Œã€‚</p>

<p><img src="http://img.blog.csdn.net/20171128225629192?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2V3ZWkxNjg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;android.support.constraint.ConstraintLayout</span>
    <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span> <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/fruit_name"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"51dp"</span>
        <span class="na">android:textSize=</span><span class="s">"24sp"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/android.support.constraint.ConstraintLayout&gt;</span>
</code></pre></div></div>

<p>Step3ï¼šåœ¨MainActivityé‡Œé¢ä¿®æ”¹ä»£ç å¦‚ä¸‹</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.example.xkw.listviewtest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.support.v7.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.AdapterView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ArrayAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.BaseAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ListView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>

    <span class="c1">//è‡ªå·±å®šä¹‰çš„ä¸€ç»„ç”¨äºæ˜¾ç¤ºçš„æ•°æ®</span>
    <span class="kd">private</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">fruit</span> <span class="o">=</span>
<span class="o">{</span><span class="s">"è‹¹æœ"</span><span class="o">,</span><span class="s">"é¦™è•‰"</span><span class="o">,</span><span class="s">"æ©™å­"</span><span class="o">,</span><span class="s">"è¥¿ç“œ"</span><span class="o">,</span><span class="s">"æ¢¨"</span><span class="o">,</span><span class="s">"è‘¡è„"</span><span class="o">,</span><span class="s">"è è"</span><span class="o">,</span><span class="s">"è‰è“"</span><span class="o">,</span><span class="s">"èŠ’æœ"</span><span class="o">,</span><span class="s">"è”“è¶Šè“"</span><span class="o">,</span>
<span class="s">"æ¦´è²"</span><span class="o">,</span><span class="s">"å±±ç«¹"</span><span class="o">,</span><span class="s">"æŸšå­"</span><span class="o">,</span><span class="s">"å“ˆå¯†ç“œ"</span><span class="o">,</span><span class="s">"æ°´èœœæ¡ƒ"</span><span class="o">,</span><span class="s">"ç•ªçŸ³æ¦´"</span><span class="o">,</span><span class="s">"é»„æ¡ƒ"</span><span class="o">,</span><span class="s">"è›‡æœ"</span><span class="o">,</span><span class="s">"èœœç“œ"</span><span class="o">,</span><span class="s">"è“è“"</span><span class="o">,</span><span class="s">"ç”˜è”—"</span><span class="o">};</span>
    <span class="kd">private</span> <span class="nc">FruitAdapter</span> <span class="n">mfruitAdapter</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">ListView</span> <span class="n">mlistView</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">mlistView</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ListView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">listview_fruit</span><span class="o">);</span>
        <span class="n">mfruitAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FruitAdapter</span><span class="o">();</span>
        <span class="n">initFruits</span><span class="o">();</span>
        <span class="n">mlistView</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">mfruitAdapter</span><span class="o">);</span>
        <span class="n">mlistView</span><span class="o">.</span><span class="na">setOnItemClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">AdapterView</span><span class="o">.</span><span class="na">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="nc">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">adapterView</span><span class="o">,</span> <span class="nc">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">long</span> <span class="n">l</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="s">"æ‚¨é€‰æ‹©äº†ï¼š"</span> <span class="o">+</span> <span class="o">((</span><span class="nc">Fruit</span><span class="o">)</span> <span class="n">mfruitAdapter</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="n">i</span><span class="o">)).</span><span class="na">getName</span><span class="o">(),</span><span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initFruits</span><span class="o">(){</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">fruit</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span> <span class="o">++){</span>
            <span class="nc">Fruit</span> <span class="n">newfruit</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Fruit</span><span class="o">(</span><span class="n">fruit</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">mfruitAdapter</span><span class="o">.</span><span class="na">addFruit</span><span class="o">(</span><span class="n">newfruit</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fruit</span><span class="o">{</span>
        <span class="c1">//å®šä¹‰äº†ä¸€ä¸ªæ°´æœç±»</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="nc">Name</span><span class="o">;</span>
        <span class="c1">//private int ImageId; //ç”¨äºå­˜æ”¾æ°´æœå›¾ç‰‡çš„Idï¼Œæ­¤å¤„æ²¡æœ‰</span>
        <span class="kd">public</span> <span class="nf">Fruit</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">){</span>
            <span class="k">this</span><span class="o">.</span><span class="na">Name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">(){</span>
            <span class="k">return</span> <span class="nc">Name</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">FruitAdapter</span> <span class="kd">extends</span> <span class="nc">BaseAdapter</span><span class="o">{</span>
        <span class="kd">private</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Fruit</span><span class="o">&gt;</span> <span class="n">mFruit</span><span class="o">;</span>
        <span class="kd">private</span> <span class="nc">LayoutInflater</span> <span class="n">mInflator</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">FruitAdapter</span><span class="o">(){</span>
            <span class="kd">super</span><span class="o">();</span>
            <span class="n">mFruit</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Fruit</span><span class="o">&gt;();</span>
            <span class="n">mInflator</span> <span class="o">=</span> <span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">getLayoutInflater</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addFruit</span><span class="o">(</span><span class="nc">Fruit</span> <span class="n">fruit</span><span class="o">){</span>
            <span class="n">mFruit</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">fruit</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">mFruit</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">mFruit</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="nc">View</span> <span class="n">view</span><span class="o">,</span> <span class="nc">ViewGroup</span> <span class="n">viewGroup</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">ViewHolder</span> <span class="n">viewHolder</span><span class="o">;</span>
            <span class="c1">//å¸¸è§„ListViewä¼˜åŒ–ä»£ç </span>
            <span class="k">if</span> <span class="o">(</span><span class="n">view</span> <span class="o">==</span> <span class="kc">null</span><span class="o">){</span>
                <span class="c1">//æ³¨æ„inflateï¼ˆï¼‰çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¿…é¡»è®¾ç½®ä¸ºfalseï¼Œä¸ç„¶ä¼šå’ŒonCreateå‡½æ•°é‡Œé¢çš„setContentViewå†²çª</span>
                <span class="n">view</span> <span class="o">=</span> <span class="n">mInflator</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">listitem</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">false</span><span class="o">);</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ViewHolder</span><span class="o">();</span>
                <span class="n">viewHolder</span><span class="o">.</span><span class="na">fruitName</span> <span class="o">=</span> <span class="o">(</span><span class="nc">TextView</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fruit_name</span><span class="o">);</span>
                <span class="n">view</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="n">viewHolder</span><span class="o">);</span><span class="c1">//å°†ViewHolderå‚¨å­˜è‡³viewå†…</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="o">{</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ViewHolder</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span><span class="c1">//ä»viewå†…è¯»å–ViewHolder</span>
            <span class="o">}</span>
            <span class="nc">Fruit</span> <span class="n">fruit</span> <span class="o">=</span> <span class="n">mFruit</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">fruitName</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">fruit</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
            <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">class</span> <span class="nc">ViewHolder</span><span class="o">{</span>
            <span class="c1">//å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ç±»ViewHolderç”¨äºå¯¹æ¯ä¸€ä¸ªæ°´æœçš„ä¿¡æ¯è¿›è¡Œç¼“å­˜</span>
            <span class="nc">TextView</span> <span class="n">fruitName</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>â€ƒâ€ƒä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p>

<p>â€ƒâ€ƒé¦–å…ˆå…ˆè§£é‡Šä¸€ä¸‹å®šä¹‰çš„å‡ ä¸ªç±»ï¼š</p>

<ul>
  <li>Fruitç±»æ˜¯ä¸€ä¸ªæ°´æœç±»ï¼Œç”¨äºå­˜æ”¾æ¯ä¸€ä¸ªæ°´æœçš„ç›¸å…³ä¿¡æ¯ï¼ˆåå­—ï¼Œä»·é’±ï¼Œå›¾ç‰‡â€¦â€¦è¿™é‡Œä¸ºäº†ç®€ä¾¿åªæœ‰ä¸€ä¸ªåå­—ï¼‰ï¼›</li>
  <li>FruitAdapterç±»ç»§æ‰¿äºBaseAdapterï¼Œæ˜¯ä¸€ä¸ªè‡ªå·±å®šä¹‰çš„Adapterï¼›</li>
  <li>ViewHolderæ˜¯ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œç”¨äºç¼“å­˜è¯»å–åˆ°çš„Fruitç±»å®ä¾‹çš„Nameå˜é‡ï¼ˆè¿™æ ·å°±ä¸ç”¨æ¯ä¸€æ¬¡éƒ½ç”¨findviewbyidï¼ˆï¼‰å»æ‰¾è¿™ä¸ªå˜é‡ï¼‰ã€‚</li>
</ul>

<p>â€ƒâ€ƒé¦–å…ˆï¼Œè‡ªå·±é¢„å…ˆå®šä¹‰ä¸€äº›ç”¨äºæ˜¾ç¤ºçš„æ•°æ®ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">fruit</span> <span class="o">=</span>
<span class="o">{</span><span class="s">"è‹¹æœ"</span><span class="o">,</span><span class="s">"é¦™è•‰"</span><span class="o">,</span><span class="s">"æ©™å­"</span><span class="o">,</span><span class="s">"è¥¿ç“œ"</span><span class="o">,</span><span class="s">"æ¢¨"</span><span class="o">,</span><span class="s">"è‘¡è„"</span><span class="o">,</span><span class="s">"è è"</span><span class="o">,</span><span class="s">"è‰è“"</span><span class="o">,</span><span class="s">"èŠ’æœ"</span><span class="o">,</span><span class="s">"è”“è¶Šè“"</span><span class="o">,</span>
 <span class="s">"æ¦´è²"</span><span class="o">,</span><span class="s">"å±±ç«¹"</span><span class="o">,</span><span class="s">"æŸšå­"</span><span class="o">,</span><span class="s">"å“ˆå¯†ç“œ"</span><span class="o">,</span><span class="s">"æ°´èœœæ¡ƒ"</span><span class="o">,</span><span class="s">"ç•ªçŸ³æ¦´"</span><span class="o">,</span><span class="s">"é»„æ¡ƒ"</span><span class="o">,</span><span class="s">"è›‡æœ"</span><span class="o">,</span><span class="s">"èœœç“œ"</span><span class="o">,</span><span class="s">"è“è“"</span><span class="o">,</span><span class="s">"ç”˜è”—"</span><span class="o">};</span>
</code></pre></div></div>

<p>ã€€â€ƒâ€ƒç„¶åï¼Œåœ¨onCreateï¼ˆï¼‰å‡½æ•°é‡Œé¢ç»‘å®šListViewæ§ä»¶å¹¶è®¾å®šç›¸åº”çš„Adapterå³å¯ï¼ˆAdapteræ˜¯æ•°æ®ï¼ˆDataï¼‰å’Œç•Œé¢ï¼ˆUIï¼‰ä¹‹é—´çš„æ¡¥æ¢ï¼‰ã€‚æ€»çš„æ¥è¯´ï¼Œåªéœ€è¦ä¸€ä¸‹è¿™ä¹ˆå‡ æ­¥ï¼šç»‘å®šæ§ä»¶-&gt;æ·»åŠ æ•°æ®-&gt;è®¾å®šAdapterï¼Œå°±å¯ä»¥å®ç°ListViewçš„æ˜¾ç¤ºåŠŸèƒ½äº†ã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span><span class="c1">//åŠ è½½å¸ƒå±€æ–‡ä»¶</span>
<span class="n">mlistView</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ListView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">listview_fruit</span><span class="o">);</span><span class="c1">//ç»‘å®šæ§ä»¶</span>
<span class="n">mfruitAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FruitAdapter</span><span class="o">();</span><span class="c1">//æ–°å»ºä¸€ä¸ªAdapter</span>
<span class="n">initFruits</span><span class="o">();</span><span class="c1">//æ·»åŠ æ•°æ®</span>
<span class="n">mlistView</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">mfruitAdapter</span><span class="o">);</span><span class="c1">//è®¾å®šAdapter</span>
</code></pre></div></div>

<p>â€ƒâ€ƒè¿™ä¹ˆå‡ è¡Œä»£ç å°±å·²ç»å¯ä»¥å®Œæˆæ˜¾ç¤ºçš„åŠŸèƒ½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥æ¥çœ‹çœ‹å®é™…æ•ˆæœå›¾ã€‚</p>

<p><img src="http://img.blog.csdn.net/20171128230655692?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2V3ZWkxNjg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p>

<p>â€ƒâ€ƒä½†æ˜¯å‡å¦‚ä¸€ä¸ªListViewåªæœ‰æ˜¾ç¤ºçš„åŠŸèƒ½æœªå…å¤ªè¿‡é¸¡è‚‹ï¼Œé‚£ä¹ˆå°±è®©æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸‹ç‚¹å‡»å¤„ç†å‡½æ•°ã€‚å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦ç›´æ¥è°ƒç”¨listviewçš„setOnItemClickListenerï¼ˆï¼‰å‡½æ•°å³å¯ï¼ˆå‚æ•°iå°±æ˜¯ç‚¹å‡»çš„å•å…ƒçš„åºå·ï¼‰ã€‚å¦‚ä¸‹ï¼Œæˆ‘ä»¬åœ¨é‡Œé¢é€šè¿‡Toastæ˜¾ç¤ºç”¨æˆ·ç‚¹å‡»äº†å“ªä¸€ä¸ªæ°´æœã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mlistView</span><span class="o">.</span><span class="na">setOnItemClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">AdapterView</span><span class="o">.</span><span class="na">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="nc">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">adapterView</span><span class="o">,</span> <span class="nc">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">long</span> <span class="n">l</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="s">"æ‚¨é€‰æ‹©äº†ï¼š"</span> <span class="o">+</span> <span class="o">((</span><span class="nc">Fruit</span><span class="o">)</span> <span class="n">mfruitAdapter</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="n">i</span><span class="o">)).</span><span class="na">getName</span><span class="o">(),</span><span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></div></div>

<p><img src="http://img.blog.csdn.net/20171128231117510?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2V3ZWkxNjg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p>

<p>ã€€ã€€è‡³æ­¤ä¸ºæ­¢ï¼Œä¸€ä¸ªå®Œæ•´çš„ListViewå°±å·²ç»å®ç°äº†ã€‚ä»¥ä¸Šå°±æ˜¯ä»‹ç»çš„ç¬¬ä¸€ç§å®ç°ListViewçš„æ–¹æ³•ã€‚</p>

<h2 id="ç»§æ‰¿è‡ªlistactivity">ç»§æ‰¿è‡ªListActivity</h2>

<hr />
<p>ã€€ã€€ä¸‹é¢ä»‹ç»ç¬¬äºŒç§å®ç°ListViewçš„æ–¹æ³•ï¼Œå°±æ˜¯è®©è¿™ä¸ªç±»ç»§æ‰¿è‡ªListActivityã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">ListActivity</span> <span class="o">{</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="c1">//setContentView(R.layout.activity_main)ï¼›</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>â€ƒâ€ƒç„¶åå…¶ä»–çš„å°±å’Œç¬¬ä¸€ç§ç”¨æ³•å·®ä¸å¤šäº†ï¼ŒåŒæ ·çš„æ–°å»ºFruitå’ŒFruitAdapterï¼ŒViewHolderä¸‰ä¸ªç±»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒListActivityæ˜¯æ²¡æœ‰å¸ƒå±€æ–‡ä»¶çš„ï¼ï¼ï¼ä½†æ˜¯Android Studioé»˜è®¤ç”Ÿæˆçš„æ˜¯ç»§æ‰¿è‡ªAppCompactActivityçš„æ´»åŠ¨ï¼Œåœ¨onCreateï¼ˆï¼‰å‡½æ•°é‡Œé¢ä¼šåŠ è½½å¸ƒå±€æ–‡ä»¶ï¼Œæ‰€ä»¥å‡å¦‚åˆ›å»ºçš„æ—¶å€™æ²¡æœ‰æ³¨æ„å‹¾é€‰ä¸è¦å¸ƒå±€æ–‡ä»¶çš„è¯ä¸€å®šè¦æ³¨æ„æŠŠonCreateï¼ˆï¼‰å‡½æ•°é‡Œé¢çš„setContentView(R.layout.activity_main)ï¼›è¿™å¥è¯æ³¨é‡Šæ‰ï¼ï¼ï¼ä¸ç„¶è¿è¡Œä¼šæŠ¥é”™ã€‚</p>

<p>â€ƒâ€ƒä»‹ç»ä¸€ä¸‹ä½¿ç”¨ListActivityç›¸è¾ƒäºç¬¬ä¸€ç§æ–¹æ³•çš„å‡ ä¸ªç»†å¾®ä¹‹å¤„ã€‚</p>

<ol>
  <li>ListActivityæœ¬èº«å·²ç»å®šä¹‰äº†ç‚¹å‡»å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯é‡è½½ä¸€ä¸‹å°±å¥½äº†ã€‚</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onListItemClick</span><span class="o">(</span><span class="nc">ListView</span> <span class="n">l</span><span class="o">,</span> <span class="nc">View</span> <span class="n">v</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onListItemClick</span><span class="o">(</span><span class="n">l</span><span class="o">,</span> <span class="n">v</span><span class="o">,</span> <span class="n">position</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
        <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="s">"æ‚¨é€‰æ‹©äº†ï¼š"</span> <span class="o">+</span> <span class="o">((</span><span class="nc">Fruit</span><span class="o">)</span> <span class="n">mfruitAdapter</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="n">position</span><span class="o">)).</span><span class="na">getName</span><span class="o">(),</span><span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<ol>
  <li>åŒæ ·ç»‘å®šAdapterçš„å‡½æ•°ListActivityä¹Ÿå·²ç»å¸®æˆ‘ä»¬åšå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥è°ƒç”¨å°±å¥½äº†ã€‚</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">setListAdapter</span><span class="o">(</span><span class="n">mfruitAdapter</span><span class="o">);</span>
</code></pre></div></div>

<p>â€ƒâ€ƒç¨‹åºè¿è¡Œä¹‹åï¼Œå¯ä»¥çœ‹åˆ°ä¸ç¬¬ä¸€ç§æ•ˆæœä¸€æ¨¡ä¸€æ ·ï¼Œå…·ä½“å›¾åœ¨è¿™é‡Œå°±ä¸è´´äº†ã€‚</p>

<p><a href="http://download.csdn.net/download/kewei168/10142249">æºç ä¸‹è½½</a></p>

<hr />
<p>â€ƒâ€ƒListViewçš„ä¸¤ç§å®ç°æ–¹æ³•å°±ä»‹ç»åˆ°è¿™é‡Œäº†ã€‚ç†è®ºä¸Šæ¥è¯´ç”¨å“ªç§æ–¹æ³•éƒ½æ˜¯å¯ä»¥çš„ï¼Œçœ‹ä½ å–œæ¬¢ç”¨å“ªç§è€Œå·²ã€‚ä½†æ˜¯ä¸ªäººæ¯”è¾ƒæ¨è<strong>ç¬¬ä¸€ç§æ–¹æ³•</strong>ï¼Œä½¿ç”¨listviewæ§ä»¶ï¼Œä¸è¦ç»§æ‰¿äºListActivityã€‚å› ä¸ºç»§æ‰¿è‡ªListActivityçš„è¯æ˜¯æ²¡æœ‰å¸ƒå±€æ–‡ä»¶çš„ï¼Œèƒ½ä¿®æ”¹çš„åªæœ‰é»˜è®¤çš„ActionBarï¼Œä½†æ˜¯Googleç°åœ¨å·²ç»æ¨å‡ºäº†Material Designï¼Œè€ŒActionBarä¹Ÿè¢«æ›´çµæ´»çš„<strong>ToolBar</strong>æ‰€å–ä»£ï¼Œè¶Šæ¥è¶Šå¤šçš„åº”ç”¨ä¹Ÿå¼€å§‹é‡‡ç”¨ToolBarçš„è®¾è®¡æ–¹å¼ï¼Œä½†æ˜¯ä½¿ç”¨ToolBaréœ€è¦è‡ªå·±å®šä¹‰å¸ƒå±€æ–‡ä»¶ï¼Œä¸ListActivityä¸èƒ½ä½¿ç”¨å¸ƒå±€æ–‡ä»¶æ˜¯çŸ›ç›¾çš„ï¼Œæ‰€ä»¥æ›´å»ºè®®å¤§å®¶ä½¿ç”¨listviewæ§ä»¶ã€‚ä»¥ä¸Šçº¯å±ä¸ªäººä¹‹æ„šè§ï¼Œæ¬¢è¿æœ‰ä¸åŒæ„è§çš„è¯„è®ºäº¤æµã€‚</p>
:ET